# Generated by ariadne-codegen

from typing import Any, Optional

from .custom_fields import (
    AgentBehaviorFields,
    AgentIdentityFields,
    CatalogEntryGQLFields,
    ChangesAppliedFields,
    CreateRemoteDeploymentResponseFields,
    CryptoTopUpFields,
    CryptoTopUpSessionGQLFields,
    DeploymentDetailFields,
    DeploymentEnvironmentFields,
    ProjectMetadataFields,
    StripeSessionGQLFields,
    VersionFields,
)
from .custom_typing_fields import GraphQLField
from .enums import (
    AgentIdentityType,
    AutoVersioningPolicy,
    CatalogKind,
    VersionPromotionAction,
)


class Mutation:
    @classmethod
    def create_agent_identity(
        cls,
        agent_type: AgentIdentityType,
        *,
        organization_id: Optional[str] = None,
        name: Optional[str] = None,
        at_name: Optional[str] = None,
        biography: Optional[str] = None,
        avatar_image_url: Optional[str] = None,
        background_image_url: Optional[str] = None,
        a_2_a_url: Optional[str] = None,
        website: Optional[str] = None,
        email: Optional[str] = None,
        notes: Optional[str] = None
    ) -> AgentIdentityFields:
        """Creates a new agent identity for the authenticated user."""
        arguments: dict[str, dict[str, Any]] = {
            "agentType": {"type": "AgentIdentityType!", "value": agent_type},
            "organizationId": {"type": "ID", "value": organization_id},
            "name": {"type": "String", "value": name},
            "atName": {"type": "String", "value": at_name},
            "biography": {"type": "String", "value": biography},
            "avatarImageUrl": {"type": "String", "value": avatar_image_url},
            "backgroundImageUrl": {"type": "String", "value": background_image_url},
            "a2aUrl": {"type": "String", "value": a_2_a_url},
            "website": {"type": "String", "value": website},
            "email": {"type": "String", "value": email},
            "notes": {"type": "String", "value": notes},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return AgentIdentityFields(
            field_name="createAgentIdentity", arguments=cleared_arguments
        )

    @classmethod
    def update_agent_identity(
        cls,
        agent_identity_id: str,
        *,
        name: Optional[str] = None,
        at_name: Optional[str] = None,
        biography: Optional[str] = None,
        avatar_image_url: Optional[str] = None,
        background_image_url: Optional[str] = None,
        a_2_a_url: Optional[str] = None,
        website: Optional[str] = None,
        email: Optional[str] = None,
        notes: Optional[str] = None
    ) -> AgentIdentityFields:
        """Updates an existing agent identity owned by the authenticated user."""
        arguments: dict[str, dict[str, Any]] = {
            "agentIdentityId": {"type": "ID!", "value": agent_identity_id},
            "name": {"type": "String", "value": name},
            "atName": {"type": "String", "value": at_name},
            "biography": {"type": "String", "value": biography},
            "avatarImageUrl": {"type": "String", "value": avatar_image_url},
            "backgroundImageUrl": {"type": "String", "value": background_image_url},
            "a2aUrl": {"type": "String", "value": a_2_a_url},
            "website": {"type": "String", "value": website},
            "email": {"type": "String", "value": email},
            "notes": {"type": "String", "value": notes},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return AgentIdentityFields(
            field_name="updateAgentIdentity", arguments=cleared_arguments
        )

    @classmethod
    def delete_agent_identity(cls, agent_identity_id: str) -> AgentIdentityFields:
        """Deletes an agent identity owned by the authenticated user."""
        arguments: dict[str, dict[str, Any]] = {
            "agentIdentityId": {"type": "ID!", "value": agent_identity_id}
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return AgentIdentityFields(
            field_name="deleteAgentIdentity", arguments=cleared_arguments
        )

    @classmethod
    def register_version(
        cls, manifest: str, *, version_id: Optional[str] = None
    ) -> AgentBehaviorFields:
        """Registers a new Aion A2A server with the control plane. This should be called when the server first starts up. Returns all behaviors found in the configuration."""
        arguments: dict[str, dict[str, Any]] = {
            "manifest": {"type": "String!", "value": manifest},
            "versionId": {"type": "ID", "value": version_id},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return AgentBehaviorFields(
            field_name="registerVersion", arguments=cleared_arguments
        )

    @classmethod
    def create_remote_deployment(
        cls,
        name: str,
        server_url: str,
        project_id: str,
        organization_id: str,
        is_a_2_a_integration: bool,
    ) -> CreateRemoteDeploymentResponseFields:
        arguments: dict[str, dict[str, Any]] = {
            "name": {"type": "String!", "value": name},
            "serverUrl": {"type": "String!", "value": server_url},
            "projectId": {"type": "ID!", "value": project_id},
            "organizationId": {"type": "ID!", "value": organization_id},
            "isA2AIntegration": {"type": "Boolean!", "value": is_a_2_a_integration},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return CreateRemoteDeploymentResponseFields(
            field_name="createRemoteDeployment", arguments=cleared_arguments
        )

    @classmethod
    def create_remote_version(
        cls, deployment_id: str, server_url: str
    ) -> CreateRemoteDeploymentResponseFields:
        """Creates a new version for an existing remote deployment."""
        arguments: dict[str, dict[str, Any]] = {
            "deploymentId": {"type": "ID!", "value": deployment_id},
            "serverUrl": {"type": "String!", "value": server_url},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return CreateRemoteDeploymentResponseFields(
            field_name="createRemoteVersion", arguments=cleared_arguments
        )

    @classmethod
    def create_git_hub_deployment(
        cls,
        name: str,
        git_hub_installation_id: Any,
        github_repo_id: Any,
        project_id: str,
        organization_id: str,
        *,
        source_root: Optional[str] = None,
        branch_name: Optional[str] = None,
        auto_versioning_policy: Optional[AutoVersioningPolicy] = None
    ) -> DeploymentDetailFields:
        arguments: dict[str, dict[str, Any]] = {
            "name": {"type": "String!", "value": name},
            "sourceRoot": {"type": "String", "value": source_root},
            "branchName": {"type": "String", "value": branch_name},
            "autoVersioningPolicy": {
                "type": "AutoVersioningPolicy",
                "value": auto_versioning_policy,
            },
            "gitHubInstallationId": {"type": "Long!", "value": git_hub_installation_id},
            "githubRepoId": {"type": "Long!", "value": github_repo_id},
            "projectId": {"type": "ID!", "value": project_id},
            "organizationId": {"type": "ID!", "value": organization_id},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return DeploymentDetailFields(
            field_name="createGitHubDeployment", arguments=cleared_arguments
        )

    @classmethod
    def update_deployment_environment(
        cls,
        organization_id: str,
        deployment_id: str,
        project_id: str,
        deployment_environment_id: str,
        *,
        branch: Optional[str] = None,
        environmental_variables: Optional[Any] = None
    ) -> DeploymentEnvironmentFields:
        arguments: dict[str, dict[str, Any]] = {
            "organizationId": {"type": "ID!", "value": organization_id},
            "deploymentId": {"type": "ID!", "value": deployment_id},
            "projectId": {"type": "ID!", "value": project_id},
            "deploymentEnvironmentId": {
                "type": "ID!",
                "value": deployment_environment_id,
            },
            "branch": {"type": "String", "value": branch},
            "environmentalVariables": {
                "type": "Json",
                "value": environmental_variables,
            },
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return DeploymentEnvironmentFields(
            field_name="updateDeploymentEnvironment", arguments=cleared_arguments
        )

    @classmethod
    def delete_deployment(cls, deployment_id: str) -> GraphQLField:
        """Deletes a deployment owned by the authenticated user."""
        arguments: dict[str, dict[str, Any]] = {
            "deploymentId": {"type": "ID!", "value": deployment_id}
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return GraphQLField(field_name="deleteDeployment", arguments=cleared_arguments)

    @classmethod
    def promote_version(
        cls, version_id: str, action: VersionPromotionAction
    ) -> VersionFields:
        """Promote a version to stable, beta, or remove beta."""
        arguments: dict[str, dict[str, Any]] = {
            "versionId": {"type": "ID!", "value": version_id},
            "action": {"type": "VersionPromotionAction!", "value": action},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return VersionFields(field_name="promoteVersion", arguments=cleared_arguments)

    @classmethod
    def apply_project_changes(
        cls, project_id: str, changes: list[Any]
    ) -> ChangesAppliedFields:
        """Apply raw Automerge changes to a project's document. Server applies and returns
        committed heads and echoes changes. Validation and execution of side-effects are
        handled asynchronously and will not be completed in this request.

        If the server needs to modify the document in response to the changes, those updates
        will be returned via the receiveProjectChanges subscription."""
        arguments: dict[str, dict[str, Any]] = {
            "projectId": {"type": "ID!", "value": project_id},
            "changes": {"type": "[BytesBase64!]!", "value": changes},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return ChangesAppliedFields(
            field_name="applyProjectChanges", arguments=cleared_arguments
        )

    @classmethod
    def create_project(
        cls,
        organization_id: str,
        project_name: str,
        *,
        environment_name: Optional[str] = None
    ) -> ProjectMetadataFields:
        """Create empty project"""
        arguments: dict[str, dict[str, Any]] = {
            "organizationId": {"type": "ID!", "value": organization_id},
            "projectName": {"type": "String!", "value": project_name},
            "environmentName": {"type": "String", "value": environment_name},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return ProjectMetadataFields(
            field_name="createProject", arguments=cleared_arguments
        )

    @classmethod
    def update_project_metadata(
        cls,
        project_id: str,
        *,
        project_name: Optional[str] = None,
        environment_name: Optional[str] = None
    ) -> ProjectMetadataFields:
        """Rename or update project environment"""
        arguments: dict[str, dict[str, Any]] = {
            "projectId": {"type": "ID!", "value": project_id},
            "projectName": {"type": "String", "value": project_name},
            "environmentName": {"type": "String", "value": environment_name},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return ProjectMetadataFields(
            field_name="updateProjectMetadata", arguments=cleared_arguments
        )

    @classmethod
    def delete_project(cls, project_id: str) -> GraphQLField:
        """Remove project and its history"""
        arguments: dict[str, dict[str, Any]] = {
            "projectId": {"type": "ID!", "value": project_id}
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return GraphQLField(field_name="deleteProject", arguments=cleared_arguments)

    @classmethod
    def catalog_entries(cls) -> CatalogEntryGQLFields:
        """Lists available billing catalog entries (trial, subscriptions, and top-ups)."""
        return CatalogEntryGQLFields(field_name="catalogEntries")

    @classmethod
    def create_billing_checkout_session(
        cls,
        organization_id: str,
        catalog_kind: CatalogKind,
        catalog_key: str,
        *,
        success_url: Optional[str] = None,
        cancel_url: Optional[str] = None
    ) -> StripeSessionGQLFields:
        """Creates a Stripe Checkout session for purchasing a subscription tier or top-up pack."""
        arguments: dict[str, dict[str, Any]] = {
            "organizationId": {"type": "ID!", "value": organization_id},
            "catalogKind": {"type": "CatalogKind!", "value": catalog_kind},
            "catalogKey": {"type": "String!", "value": catalog_key},
            "successUrl": {"type": "String", "value": success_url},
            "cancelUrl": {"type": "String", "value": cancel_url},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return StripeSessionGQLFields(
            field_name="createBillingCheckoutSession", arguments=cleared_arguments
        )

    @classmethod
    def create_billing_portal_session(
        cls, organization_id: str, *, return_url: Optional[str] = None
    ) -> StripeSessionGQLFields:
        """Creates a Stripe Billing Portal session for managing an organization's subscription."""
        arguments: dict[str, dict[str, Any]] = {
            "organizationId": {"type": "ID!", "value": organization_id},
            "returnUrl": {"type": "String", "value": return_url},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return StripeSessionGQLFields(
            field_name="createBillingPortalSession", arguments=cleared_arguments
        )

    @classmethod
    def create_crypto_top_up_session(
        cls, organization_id: str, top_up_id: str, success_url: str, cancel_url: str
    ) -> CryptoTopUpSessionGQLFields:
        """Creates a Coinbase Commerce checkout session for a crypto top-up."""
        arguments: dict[str, dict[str, Any]] = {
            "organizationId": {"type": "ID!", "value": organization_id},
            "topUpId": {"type": "String!", "value": top_up_id},
            "successUrl": {"type": "String!", "value": success_url},
            "cancelUrl": {"type": "String!", "value": cancel_url},
        }
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return CryptoTopUpSessionGQLFields(
            field_name="createCryptoTopUpSession", arguments=cleared_arguments
        )

    @classmethod
    def refresh_crypto_top_up(cls, id: str) -> CryptoTopUpFields:
        """Refreshes a crypto top-up status using Coinbase."""
        arguments: dict[str, dict[str, Any]] = {"id": {"type": "ID!", "value": id}}
        cleared_arguments = {
            key: value for key, value in arguments.items() if value["value"] is not None
        }
        return CryptoTopUpFields(
            field_name="refreshCryptoTopUp", arguments=cleared_arguments
        )
